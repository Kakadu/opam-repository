opam-version: "2.0"
maintainer: "kakadu@pm.me"
homepage: "https://github.com/Kakadu/QOcamlBrowser_quick"
bug-reports: "https://github.com/Kakadu/QOcamlBrowser_quick/issues"
dev-repo: "git://github.com/Kakadu/QOcamlBrowser_quick"
license: "LGPL-2.1-or-later with OCaml-LGPL-linking-exception"
authors: "Kakadu"
synopsis: "OCamlBrowser clone written with OCaml and QtQuick 2"

build: [
  ["sh" "-exc" "PATH=/usr/lib64/qt5/bin:/usr/lib/qt5/bin:$PATH ./configure"]
    {os != "macos"}
  ["sh" "-exc" "PATH=/usr/lib64/qt5/bin:/usr/lib/qt5/bin:$PATH make"]
    {os != "macos"}
  ["sh" "-exc" "PATH=/usr/local/opt/qt/bin:$PATH ./configure"] {os = "macos"}
  ["sh" "-exc" "PATH=/usr/local/opt/qt/bin:$PATH make"] {os = "macos"}
]
install: [make "install" "PREFIX=%{prefix}%"]
depends: [
  "ocaml" {>= "4.08.0" & < "4.11" }
  "lablqml" {>= "0.7" }
  "conf-qt" {>= "5.2.1"}
  "ocamlbuild" {build}
  "ocamlfind"  {build}
]
url {
  src: "https://github.com/Kakadu/QOcamlBrowser_quick/archive/master.tar.gz"
}
